<!DOCTYPE html>
<html>
  <head>
    <%- include('../partials/head') %> <!-- head.ejs include -->

  </head>
  <body>
    <%- include('../partials/nav') %> <!-- nav.ejs include -->

    <!-- 질문 내용 -->
    <div id="survey-text-1">Q: 당신은 심심함을 이겨내기 위해 소설을 읽으려 합니다. </div>
    <div id="survey-text-2">어떤 이야기가 담긴 책을 고르실 건가요? </div>
    <div id="left-cnt">(2/3)</div> <!-- 설문 진행도 -->

    <div id="survey-box">
      <button type="button" id="survey-1">박진감 넘치는 이야기</button>
      <button type="button" id="survey-2">마음이 따뜻해 지는 이야기</button>
      <button type="button" id="survey-3">즐거워지는 이야기</button>
      <button type="button" id="survey-4">가볍게 읽을 수 있는 이야기</button>
    </div>

  <script>
    var type = getParameterByName('type'); // 첫 번째 설문의 답변을 가져옴(survey.js에 getParameterByName function)

    var box1 = document.getElementById("survey-1");
    var box2 = document.getElementById("survey-2");
    var box3 = document.getElementById("survey-3");
    var box4 = document.getElementById("survey-4");

    // 첫 번째, 두 번째 설문의 답변을 세 번째 설문으로 넘겨주는 기능(survey.js에 secondSurvey function)을 설문 버튼들에 채워줌
    if(type == 1) {

      box1.addEventListener("click", function() { // ex) 설문 답변이 페이지별로 1, 1일 경우
        secondSurvey(1, 1);
      })
      box2.addEventListener("click", function() { // ex) 설문 답변이 페이지별로 1, 2일 경우
        secondSurvey(1, 2);
      })
      box3.addEventListener("click", function() { // ex) 설문 답변이 페이지별로 1, 3일 경우
        secondSurvey(1, 3);
      })
      box4.addEventListener("click", function() { // ex) 설문 답변이 페이지별로 1, 4일 경우
        secondSurvey(1, 4);
      })
    }
    else if(type == 2) {
      box1.addEventListener("click", function() {
        secondSurvey(2, 1);
      })
      box2.addEventListener("click", function() {
        secondSurvey(2, 2);
      })
      box3.addEventListener("click", function() {
        secondSurvey(2, 3);
      })
      box4.addEventListener("click", function() {
        secondSurvey(2, 4);
      })
    }
    else {
      box1.addEventListener("click", function() {
        secondSurvey(3, 1);
      })
      box2.addEventListener("click", function() {
        secondSurvey(3, 2);
      })
      box3.addEventListener("click", function() {
        secondSurvey(3, 3);
      })
      box4.addEventListener("click", function() {
        secondSurvey(3, 4);
      })
    }
  </script>

  </body>
</html>
